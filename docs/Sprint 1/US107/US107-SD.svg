<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="545px" preserveAspectRatio="none" style="width:1181px;height:545px;background:#FFFFFF;" version="1.1" viewBox="0 0 1181 545" width="1181px" zoomAndPan="magnify"><defs><filter height="300%" id="f1t8vo6g7hfsdj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1t8vo6g7hfsdj)" height="351.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="51" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1t8vo6g7hfsdj)" height="296.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="487" y="154.6641"/><rect fill="#FFFFFF" filter="url(#f1t8vo6g7hfsdj)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="808" y="185.0156"/><rect fill="#FFFFFF" filter="url(#f1t8vo6g7hfsdj)" height="144.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="808" y="275.7188"/><rect fill="#FFFFFF" filter="url(#f1t8vo6g7hfsdj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1038" y="215.3672"/><rect fill="#FFFFFF" filter="url(#f1t8vo6g7hfsdj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1129" y="331.4219"/><rect fill="#FFFFFF" filter="url(#f1t8vo6g7hfsdj)" height="122.0547" style="stroke:#000000;stroke-width:2.0;" width="459" x="708" y="290.7188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="56" x2="56" y1="89.6094" y2="460.125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="492" x2="492" y1="89.6094" y2="460.125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="813" x2="813" y1="89.6094" y2="460.125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1043" x2="1043" y1="89.6094" y2="460.125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1134" x2="1134" y1="89.6094" y2="460.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="5" y="86.5332">TrafficManager</text><ellipse cx="56" cy="15" fill="#FEFECE" filter="url(#f1t8vo6g7hfsdj)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M56,23 L56,50 M43,31 L69,31 M56,50 L43,65 M56,50 L69,65 " fill="none" filter="url(#f1t8vo6g7hfsdj)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="5" y="473.6582">TrafficManager</text><ellipse cx="56" cy="486.7344" fill="#FEFECE" filter="url(#f1t8vo6g7hfsdj)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M56,494.7344 L56,521.7344 M43,502.7344 L69,502.7344 M56,521.7344 L43,536.7344 M56,521.7344 L69,536.7344 " fill="none" filter="url(#f1t8vo6g7hfsdj)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1t8vo6g7hfsdj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="136" x="422" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="429" y="74.5332">ReturnPairsShipsUI</text><rect fill="#FEFECE" filter="url(#f1t8vo6g7hfsdj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="136" x="422" y="459.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="429" y="480.6582">ReturnPairsShipsUI</text><rect fill="#FEFECE" filter="url(#f1t8vo6g7hfsdj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="186" x="718" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="725" y="74.5332">ReturnPairsShipsController</text><rect fill="#FEFECE" filter="url(#f1t8vo6g7hfsdj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="186" x="718" y="459.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="725" y="480.6582">ReturnPairsShipsController</text><rect fill="#FEFECE" filter="url(#f1t8vo6g7hfsdj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="76" x="1003" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1010" y="74.5332">ShipStore</text><rect fill="#FEFECE" filter="url(#f1t8vo6g7hfsdj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="76" x="1003" y="459.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1010" y="480.6582">ShipStore</text><rect fill="#FEFECE" filter="url(#f1t8vo6g7hfsdj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="42" x="1111" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1118" y="74.5332">Ship</text><rect fill="#FEFECE" filter="url(#f1t8vo6g7hfsdj)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="42" x="1111" y="459.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1118" y="480.6582">Ship</text><rect fill="#FFFFFF" filter="url(#f1t8vo6g7hfsdj)" height="351.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="51" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1t8vo6g7hfsdj)" height="296.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="487" y="154.6641"/><rect fill="#FFFFFF" filter="url(#f1t8vo6g7hfsdj)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="808" y="185.0156"/><rect fill="#FFFFFF" filter="url(#f1t8vo6g7hfsdj)" height="144.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="808" y="275.7188"/><rect fill="#FFFFFF" filter="url(#f1t8vo6g7hfsdj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1038" y="215.3672"/><rect fill="#FFFFFF" filter="url(#f1t8vo6g7hfsdj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1129" y="331.4219"/><polygon fill="#A80036" points="475,150.6641,485,154.6641,475,158.6641,479,154.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="61" x2="481" y1="154.6641" y2="154.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="68" y="133.4561">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290" x="79" y="117.1045">ask the system to return pairs of ships with routes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="388" x="83" y="133.4561">with close departure/arrival coordinates (no more than 5 Kms away)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="83" y="149.8076">and with different Travelled Distance</text><polygon fill="#A80036" points="796,181.0156,806,185.0156,796,189.0156,800,185.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="497" x2="802" y1="185.0156" y2="185.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="504" y="180.1592">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="515" y="180.1592">closeShipsAndDistance=getAllPairsClosePorts()</text><polygon fill="#A80036" points="1026,211.3672,1036,215.3672,1026,219.3672,1030,215.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="818" x2="1032" y1="215.3672" y2="215.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="825" y="210.5107">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="836" y="210.5107">listShip=getAllShips()</text><polygon fill="#A80036" points="796,271.7188,806,275.7188,796,279.7188,800,275.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="497" x2="802" y1="275.7188" y2="275.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="504" y="270.8623">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="515" y="270.8623">getTheInfos(closeShipsAndDistance)</text><path d="M708,290.7188 L781,290.7188 L781,298.7188 L771,308.7188 L708,308.7188 L708,290.7188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="122.0547" style="stroke:#000000;stroke-width:2.0;" width="459" x="708" y="290.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="723" y="305.2139">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="207" x="796" y="304.1377">[closeShipsAndDistance.size() times]</text><polygon fill="#A80036" points="1117,327.4219,1127,331.4219,1117,335.4219,1121,331.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="818" x2="1123" y1="331.4219" y2="331.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="825" y="326.5654">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="836" y="326.5654">closeShipsAndDistance=getAllPairsClosePorts()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="818" x2="860" y1="391.7734" y2="391.7734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="860" x2="860" y1="391.7734" y2="404.7734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="819" x2="860" y1="404.7734" y2="404.7734"/><polygon fill="#A80036" points="829,400.7734,819,404.7734,829,408.7734,825,404.7734" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="825" y="386.917">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="836" y="386.917">getTheInfos(listShipDynamicData)</text><polygon fill="#A80036" points="72,438.125,62,442.125,72,446.125,68,442.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="66" x2="486" y1="442.125" y2="442.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="78" y="437.2686">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="89" y="437.2686">show to the Traffic Manager the info asked</text><!--MD5=[6928325688d853af9c8ac241d3fbfae0]
@startuml

autonumber
actor TrafficManager as TM
participant ReturnPairsShipsUI as UI
participant ReturnPairsShipsController as CON
participant ShipStore as SS
participant Ship as S

activate TM
TM -> UI : ask the system to return pairs of ships with routes \n with close departure/arrival coordinates (no more than 5 Kms away) \n and with different Travelled Distance

activate UI
UI -> CON : closeShipsAndDistance=getAllPairsClosePorts()

activate CON
CON -> SS : listShip=getAllShips()

activate SS
deactivate SS

deactivate CON
UI -> CON : getTheInfos(closeShipsAndDistance)
activate CON
    loop closeShipsAndDistance.size() times
        CON -> S : closeShipsAndDistance=getAllPairsClosePorts()
        activate S
        deactivate S
        CON -> CON : getTheInfos(listShipDynamicData)
    end
deactivate CON

UI - -> TM : show to the Traffic Manager the info asked

@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>